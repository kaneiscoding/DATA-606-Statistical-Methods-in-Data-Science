knitr::opts_chunk$set(echo = TRUE)
# Load packages
library(survey)
library(sampling)
install.packages(survey)
install.packages("survey")
install.packages("sampling")
# Set seed
set.seed(2023)
# Load data
data <- read.csv("ks-projects-201801.csv")
print("Dimension of the data")
dim(data)
print("Variable names")
colnames(data)
# Sample 200 indexes
N = nrow(data) # Number of rows
n = 200 # Sample size
idx = sample(1:N, size = n, replace= FALSE)
samp = data[idx,]
data_sample <- data.frame(samp, pw=rep(N/n,n), fpc=rep(N,n))
# Sample 200 indexes
N = nrow(data) # Number of rows
n = 200 # Sample size
idx = sample(1:N, size = n, replace= FALSE)
samp = data[idx,]
data_sample <- data.frame(samp, pw=rep(N/n,n), fpc=rep(N,n))
svy <- svydesign(id~0, strata= NULL, weights=~pw, fpc~fpc)
# Load packages
library(survey)
# Load packages
library(survey)
library(sampling)
svy <- svydesign(id~0, strata= NULL, weights=~pw, fpc~fpc)
svy <- svydesign(id=~0, strata= NULL, weights=~pw, fpc=~fpc)
svy <- svydesign(id=~0, strata= NULL, weights=~pw,data=data_sample, fpc=~fpc)
mean_sd <- svymean(~usd_pledged_real, svy)
mean_sd
# Set seed
set.seed(2023)
# Sample 200 indexes
N = nrow(data) # Number of rows
n = 5000 # Sample size
idx = sample(1:N, size = n, replace= FALSE)
samp = data[idx,]
data_sample <- data.frame(samp, pw=rep(N/n,n), fpc=rep(N,n))
svy <- svydesign(id=~0, strata= NULL, weights=~pw,data=data_sample, fpc=~fpc)
mean_sd <- svymean(~usd_pledged_real, svy)
mean_sd
